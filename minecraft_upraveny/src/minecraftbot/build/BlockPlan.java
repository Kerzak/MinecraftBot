/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package minecraftbot.build;

import cz.cuni.amis.pogamut.base3d.worldview.object.Location;
import java.security.InvalidParameterException;
import minecraftbot.ILocated;
import minecraftbot.Id;

/**
 * Used to create plans for blocks to build.
 */
public class BlockPlan implements ILocated
{
    public final int x, z;
    public final byte y;
    public final Id id;

    /**
     * Create new plan.
     * @param id Id of block to build.
     * @param x X coordinate.
     * @param y Y coordinate.
     * @param z Z coordinate. 
     */
    public BlockPlan(Id id, int x, int y, int z)
    {
        this.id = id;
        this.x = x;
        if(y<0)
            throw new InvalidParameterException("Y cannot be lesser than 0: y="+y);
        if(y>255)
            throw new InvalidParameterException("Y cannot be greater than 255: y="+y);
        this.y = (byte)y;
        this.z = z;
    }
    
    public BlockPlan add( int x, int y, int z)
    {
        return new BlockPlan(id, this.x+x, (byte)(this.y+y), this.z+z);
    }

    @Override
    public int hashCode() {
        return x+y*257+z*69653;
    }

    //autogenerated
    @Override
    public boolean equals(Object obj) {
        if (obj == null) {
            return false;
        }
        if (getClass() != obj.getClass()) {
            return false;
        }
        final BlockPlan other = (BlockPlan) obj;
        if (this.x != other.x) {
            return false;
        }
        if (this.z != other.z) {
            return false;
        }
        if (this.y != other.y) {
            return false;
        }
        return true;
    }

    @Override
    public String toString() {
        return "Block plan: "+id+" @"+x+"-"+y+"-"+z;
    }

    @Override
    public Location getLocation() {
        return new Location(x, y, z);
    }

    
    
    
}
